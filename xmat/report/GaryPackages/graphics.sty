\ProvidesPackage{GaryPackages/graphics}

\usepackage{pgfplots}
\pgfplotsset{compat=1.15}

% additional color cycle list
\usepgfplotslibrary{colorbrewer}
\usepgfplotslibrary{colormaps}
\usepgfplotslibrary{fillbetween}
\usepgfplotslibrary{groupplots}
\usetikzlibrary{patterns}

% style to select only points from #1 to #2 (inclusive)
\pgfplotsset{select coords between index/.style 2 args={
      x filter/.code={
          \ifnum\coordindex<#1\def\pgfmathresult{}\fi
          \ifnum\coordindex>#2\def\pgfmathresult{}\fi
        }
    }}

\usepackage{tikz}

% externalize tikz to avoid unnecessary recompilation of complicated figures
\usetikzlibrary{external}
\tikzexternalize[prefix=tikz/]
\graphicspath{
  {tikz/}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% use externalized pdfs when tikzexternalize isn't supported
\newif\ifdraft

% Setting draft mode to true will use compiled figures in the tikz/ folder.
% This saves a lot of time.
% \drafttrue

% Setting draft mode to false will ask tikz to compile the figure.
% This is time consuming but must be done whenever a tikz figure is changed.
\draftfalse

% Below I am defining a new command tikzpicturedraft to automatically
% handle the two use cases. Note that if you make modifications in any of the
% tikz picture, you will need to set draft mode to false (to trigger a recompilation
% of the figure), and then set draft mode to true again.
\ifdraft
  \newcommand{\tikzpicturedraft}[2]{
    \includegraphics{tikz/#1}
  }
\else
  \newcommand{\tikzpicturedraft}[2]{
    \tikzsetnextfilename{#1}
    \begin{tikzpicture}
      #2
    \end{tikzpicture}
  }
\fi
